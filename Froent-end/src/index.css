@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Poppins:wght@300;400;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Cross-browser text size adjust */
html {
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
}

@layer base {
  html {
    /* Desktop-only scrollbar reservation applied via media query below */
    background-color: #0a0118; /* solid background to avoid blue flash */
    overscroll-behavior: none; /* prevent pull-to-refresh/bounce gaps */
    height: 100%;
    width: 100%;
    overflow-x: hidden; /* prevent horizontal scroll on mobile */
  }
  :root {
    --primary-color: #6b21a8;
    --background-dark: #121212;
    --background-light: #f4f4f4;
  }

  body {
    @apply text-gray-100 dark:bg-background-dark;
    overscroll-behavior: none; /* prevent bounce/chain scroll causing visual shifts */
    background-color: #0a0118; /* match html background */
    min-height: 100%;
    margin: 0;
    width: 100%;
    overflow-x: hidden; /* guard against any child overflow */
    font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  }
  #root { background-color: #0a0118; min-height: 100%; }

  /* Apply scrollbar stabilization only on desktop widths */
  @media (min-width: 769px) {
    html { scrollbar-gutter: stable both-edges; }
    body { overflow-y: scroll; }
  }
}

@layer utilities {
  .bg-gradient-start {
    background: linear-gradient(135deg, #6b21a8, #4a148c, #311b92);
    background-size: 400% 400%;
    animation: gradient-x 15s ease infinite;
  }
}

@keyframes gradient-x {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

@keyframes twinkle {
  0%, 100% { opacity: 0.5; }
  50% { opacity: 1; }
}

.starry-bg {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -1;
  pointer-events: none;
}

/* Disable animated background on small screens to avoid visual artifacts */
@media (max-width: 768px) {
  .starry-bg { display: none; }
}

.star {
  position: absolute;
  background-color: rgba(255, 255, 255, 0.8);
  border-radius: 50%;
  animation: twinkle 2s infinite alternate;
}

/* Scrollbar styles */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.1);
}

::-webkit-scrollbar-thumb {
  background: rgba(0, 0, 0, 0.3);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 0, 0, 0.5);
}

/* Accessibility focus styles */
*:focus {
  @apply outline-none ring-2 ring-primary-500 ring-offset-2;
}

/* Glow effect */
.glow {
  transition: box-shadow 0.3s ease;
}

.glow:hover {
  box-shadow: 0 0 15px rgba(107, 33, 168, 0.5);
}
